<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ•°æ®ç»“æ„ | Full-Stack Library</title>
    <meta name="description" content="å‰ç«¯å›¾ä¹¦é¦†">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.bbc6ecfa.css" as="style"><link rel="preload" href="/assets/js/app.a9b48c8f.js" as="script"><link rel="preload" href="/assets/js/4.2de3fa39.js" as="script"><link rel="prefetch" href="/assets/js/10.19e274a5.js"><link rel="prefetch" href="/assets/js/11.2ec2a5d8.js"><link rel="prefetch" href="/assets/js/12.89e0317d.js"><link rel="prefetch" href="/assets/js/13.f33dc00e.js"><link rel="prefetch" href="/assets/js/14.03a2b796.js"><link rel="prefetch" href="/assets/js/15.d5471066.js"><link rel="prefetch" href="/assets/js/16.c88b4c36.js"><link rel="prefetch" href="/assets/js/17.02b91c81.js"><link rel="prefetch" href="/assets/js/18.23af651a.js"><link rel="prefetch" href="/assets/js/19.d71545d9.js"><link rel="prefetch" href="/assets/js/2.854dcf62.js"><link rel="prefetch" href="/assets/js/20.f6145b83.js"><link rel="prefetch" href="/assets/js/21.e6e43be9.js"><link rel="prefetch" href="/assets/js/22.c27ea19e.js"><link rel="prefetch" href="/assets/js/23.e51c86bd.js"><link rel="prefetch" href="/assets/js/24.7a6320fc.js"><link rel="prefetch" href="/assets/js/25.914d5bc4.js"><link rel="prefetch" href="/assets/js/26.0f992f80.js"><link rel="prefetch" href="/assets/js/27.af39b039.js"><link rel="prefetch" href="/assets/js/28.0e1f9315.js"><link rel="prefetch" href="/assets/js/29.4af562c9.js"><link rel="prefetch" href="/assets/js/3.d821ca83.js"><link rel="prefetch" href="/assets/js/30.45754657.js"><link rel="prefetch" href="/assets/js/31.85cce921.js"><link rel="prefetch" href="/assets/js/32.1e4a4318.js"><link rel="prefetch" href="/assets/js/5.9ad96352.js"><link rel="prefetch" href="/assets/js/6.69677b65.js"><link rel="prefetch" href="/assets/js/7.3d1d6b24.js"><link rel="prefetch" href="/assets/js/8.da26485a.js"><link rel="prefetch" href="/assets/js/9.0cca4a29.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bbc6ecfa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Full-Stack Library</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/Interviews/" class="nav-link">é¢è¯•ä¸“æ </a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">åŸºç¡€è¿›é˜¶</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Js/" class="nav-link">æ·±å…¥ JavaScript</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">æ·±å…¥ CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ä¸»æµæ¡†æ¶</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">Vueä¸“æ </a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">Reactä¸“æ </a></li><li class="dropdown-item"><!----> <a href="/Applets/" class="nav-link">å°ç¨‹åºä¸“æ </a></li><li class="dropdown-item"><!----> <a href="/Wechat/" class="nav-link">å¾®ä¿¡å…¬ä¼—å·</a></li><li class="dropdown-item"><!----> <a href="/Hybrid/" class="nav-link">Hybridå¼€å‘ä¸“æ </a></li></ul></div></div> <a href="https://github.com/ViktorWong/Full-Stack-Library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/Interviews/" class="nav-link">é¢è¯•ä¸“æ </a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">åŸºç¡€è¿›é˜¶</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Js/" class="nav-link">æ·±å…¥ JavaScript</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">æ·±å…¥ CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ä¸»æµæ¡†æ¶</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">Vueä¸“æ </a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">Reactä¸“æ </a></li><li class="dropdown-item"><!----> <a href="/Applets/" class="nav-link">å°ç¨‹åºä¸“æ </a></li><li class="dropdown-item"><!----> <a href="/Wechat/" class="nav-link">å¾®ä¿¡å…¬ä¼—å·</a></li><li class="dropdown-item"><!----> <a href="/Hybrid/" class="nav-link">Hybridå¼€å‘ä¸“æ </a></li></ul></div></div> <a href="https://github.com/ViktorWong/Full-Stack-Library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="my-ad"><img src="/zhifubao.png" width="48%" style="border-radius:3px;opacity:0.9;"> <img src="/weixin.png" width="48%" style="border-radius:3px;opacity:0.9;"> <div align="center" class="ad-mark">è‹¥ä½ è§‰å¾—å¾ˆèµ, å¯ä»¥è¯·æˆ‘å–æœæ± ğŸ¹</div></div> <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>æ•°æ®ç»“æ„ä¸ç®—æ³•</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Algorithms/Algorithm.html" class="sidebar-link">ç®—æ³•</a></li><li><a href="/Algorithms/" aria-current="page" class="active sidebar-link">æ•°æ®ç»“æ„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ ˆ" class="sidebar-link">æ ˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ¦‚å¿µ" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å®ç°" class="sidebar-link">å®ç°</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#åº”ç”¨" class="sidebar-link">åº”ç”¨</a></li></ul></li><li class="sidebar-sub-header"><a href="/Algorithms/#é˜Ÿåˆ—" class="sidebar-link">é˜Ÿåˆ—</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ¦‚å¿µ-2" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å®ç°-2" class="sidebar-link">å®ç°</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å¾ªç¯é˜Ÿåˆ—" class="sidebar-link">å¾ªç¯é˜Ÿåˆ—</a></li></ul></li><li class="sidebar-sub-header"><a href="/Algorithms/#é“¾è¡¨" class="sidebar-link">é“¾è¡¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ¦‚å¿µ-3" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å®ç°-3" class="sidebar-link">å®ç°</a></li></ul></li><li class="sidebar-sub-header"><a href="/Algorithms/#æ ‘" class="sidebar-link">æ ‘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#äºŒå‰æ ‘" class="sidebar-link">äºŒå‰æ ‘</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#äºŒåˆ†æœç´¢æ ‘" class="sidebar-link">äºŒåˆ†æœç´¢æ ‘</a></li></ul></li><li class="sidebar-sub-header"><a href="/Algorithms/#avl-æ ‘" class="sidebar-link">AVL æ ‘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ¦‚å¿µ-4" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å®ç°-5" class="sidebar-link">å®ç°</a></li></ul></li><li class="sidebar-sub-header"><a href="/Algorithms/#trie" class="sidebar-link">Trie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ¦‚å¿µ-5" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å®ç°-6" class="sidebar-link">å®ç°</a></li></ul></li><li class="sidebar-sub-header"><a href="/Algorithms/#å¹¶æŸ¥é›†" class="sidebar-link">å¹¶æŸ¥é›†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ¦‚å¿µ-6" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å®ç°-7" class="sidebar-link">å®ç°</a></li></ul></li><li class="sidebar-sub-header"><a href="/Algorithms/#å †" class="sidebar-link">å †</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Algorithms/#æ¦‚å¿µ-7" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/Algorithms/#å®ç°å¤§æ ¹å †" class="sidebar-link">å®ç°å¤§æ ¹å †</a></li></ul></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="header-anchor">#</a> æ•°æ®ç»“æ„</h1> <h2 id="æ ˆ"><a href="#æ ˆ" class="header-anchor">#</a> æ ˆ</h2> <h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="header-anchor">#</a> æ¦‚å¿µ</h3> <p>æ ˆæ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼Œåœ¨è®¡ç®—æœºä¸­æ˜¯ä¸€ä¸ªç›¸å½“å¸¸è§çš„æ•°æ®ç»“æ„ã€‚</p> <p>æ ˆçš„ç‰¹ç‚¹æ˜¯åªèƒ½åœ¨æŸä¸€ç«¯æ·»åŠ æˆ–åˆ é™¤æ•°æ®ï¼Œéµå¾ªå…ˆè¿›åå‡ºçš„åŸåˆ™</p> <p><img src="https://user-gold-cdn.xitu.io/2018/5/20/1637b785d2d68735?w=640&h=460&f=png&s=6932" alt></p> <h3 id="å®ç°"><a href="#å®ç°" class="header-anchor">#</a> å®ç°</h3> <p>æ¯ç§æ•°æ®ç»“æ„éƒ½å¯ä»¥ç”¨å¾ˆå¤šç§æ–¹å¼æ¥å®ç°ï¼Œå…¶å®å¯ä»¥æŠŠæ ˆçœ‹æˆæ˜¯æ•°ç»„çš„ä¸€ä¸ªå­é›†ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨æ•°ç»„æ¥å®ç°</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="header-anchor">#</a> åº”ç”¨</h3> <p>é€‰å–äº† <a href="https://leetcode.com/problems/valid-parentheses/submissions/1" target="_blank" rel="noopener noreferrer">LeetCode ä¸Šåºå·ä¸º 20 çš„é¢˜ç›®<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>é¢˜æ„æ˜¯åŒ¹é…æ‹¬å·ï¼Œå¯ä»¥é€šè¿‡æ ˆçš„ç‰¹æ€§æ¥å®Œæˆè¿™é“é¢˜ç›®</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">isValid</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'('</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">')'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">'['</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">']'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">'{'</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">'}'</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> last <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>last<span class="token punctuation">]</span> <span class="token operator">+</span> map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="header-anchor">#</a> é˜Ÿåˆ—</h2> <h3 id="æ¦‚å¿µ-2"><a href="#æ¦‚å¿µ-2" class="header-anchor">#</a> æ¦‚å¿µ</h3> <p>é˜Ÿåˆ—ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼Œç‰¹ç‚¹æ˜¯åœ¨æŸä¸€ç«¯æ·»åŠ æ•°æ®ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤æ•°æ®ï¼Œéµå¾ªå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2018/5/20/1637cba2a6155793?w=640&h=419&f=png&s=15737" alt></p> <h3 id="å®ç°-2"><a href="#å®ç°-2" class="header-anchor">#</a> å®ç°</h3> <p>è¿™é‡Œä¼šè®²è§£ä¸¤ç§å®ç°é˜Ÿåˆ—çš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯å•é“¾é˜Ÿåˆ—å’Œå¾ªç¯é˜Ÿåˆ—ã€‚</p> <h4 id="å•é“¾é˜Ÿåˆ—"><a href="#å•é“¾é˜Ÿåˆ—" class="header-anchor">#</a> å•é“¾é˜Ÿåˆ—</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Queue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å› ä¸ºå•é“¾é˜Ÿåˆ—åœ¨å‡ºé˜Ÿæ“ä½œçš„æ—¶å€™éœ€è¦ O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥å¼•å…¥äº†å¾ªç¯é˜Ÿåˆ—ã€‚å¾ªç¯é˜Ÿåˆ—çš„å‡ºé˜Ÿæ“ä½œå¹³å‡æ˜¯ O(1) çš„æ—¶é—´å¤æ‚åº¦ã€‚</p> <h3 id="å¾ªç¯é˜Ÿåˆ—"><a href="#å¾ªç¯é˜Ÿåˆ—" class="header-anchor">#</a> å¾ªç¯é˜Ÿåˆ—</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">SqQueue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// é˜Ÿå¤´</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// é˜Ÿå°¾</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// å½“å‰é˜Ÿåˆ—å¤§å°</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ¤æ–­é˜Ÿå°¾ + 1 æ˜¯å¦ä¸ºé˜Ÿå¤´</span>
    <span class="token comment">// å¦‚æœæ˜¯å°±ä»£è¡¨éœ€è¦æ‰©å®¹æ•°ç»„</span>
    <span class="token comment">// % this.queue.length æ˜¯ä¸ºäº†é˜²æ­¢æ•°ç»„è¶Šç•Œ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">===</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>last<span class="token punctuation">]</span> <span class="token operator">=</span> item
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'Queue is empty'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token comment">// åˆ¤æ–­å½“å‰é˜Ÿåˆ—å¤§å°æ˜¯å¦è¿‡å°</span>
    <span class="token comment">// ä¸ºäº†ä¿è¯ä¸æµªè´¹ç©ºé—´ï¼Œåœ¨é˜Ÿåˆ—ç©ºé—´ç­‰äºæ€»é•¿åº¦å››åˆ†ä¹‹ä¸€æ—¶</span>
    <span class="token comment">// ä¸”ä¸ä¸º 2 æ—¶ç¼©å°æ€»é•¿åº¦ä¸ºå½“å‰çš„ä¸€åŠ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> r
  <span class="token punctuation">}</span>
  <span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'Queue is empty'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>last
  <span class="token punctuation">}</span>
  <span class="token function">resize</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> q
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="header-anchor">#</a> é“¾è¡¨</h2> <h3 id="æ¦‚å¿µ-3"><a href="#æ¦‚å¿µ-3" class="header-anchor">#</a> æ¦‚å¿µ</h3> <p>é“¾è¡¨æ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¤©ç„¶çš„é€’å½’ç»“æ„ã€‚é“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2018/5/22/16388487759b1152?w=1060&h=178&f=png&s=20820" alt></p> <h3 id="å®ç°-3"><a href="#å®ç°-3" class="header-anchor">#</a> å®ç°</h3> <p>å•å‘é“¾è¡¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> v
    <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">LinkList</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// é“¾è¡¨é•¿åº¦</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// è™šæ‹Ÿå¤´éƒ¨</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">header<span class="token punctuation">,</span> index<span class="token punctuation">,</span> currentIndex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> currentIndex<span class="token punctuation">)</span> <span class="token keyword">return</span> header
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>header<span class="token punctuation">.</span>next<span class="token punctuation">,</span> index<span class="token punctuation">,</span> currentIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addNode</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token comment">// å½“å¾€é“¾è¡¨æœ«å°¾æ’å…¥æ—¶ï¼Œprev.next ä¸ºç©º</span>
    <span class="token comment">// å…¶ä»–æƒ…å†µæ—¶ï¼Œå› ä¸ºè¦æ’å…¥èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ’å…¥çš„èŠ‚ç‚¹</span>
    <span class="token comment">// çš„ next åº”è¯¥æ˜¯ prev.next</span>
    <span class="token comment">// ç„¶åè®¾ç½® prev.next ä¸ºæ’å…¥çš„èŠ‚ç‚¹</span>
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    prev<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> prev<span class="token punctuation">.</span>next<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token keyword">return</span> prev<span class="token punctuation">.</span>next
  <span class="token punctuation">}</span>
  <span class="token function">insertNode</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addToFirst</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addToLast</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> isLast</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    index <span class="token operator">=</span> isLast <span class="token operator">?</span> index <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> index
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> prev<span class="token punctuation">.</span>next
    prev<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">.</span>next
    node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token keyword">return</span> node
  <span class="token punctuation">}</span>
  <span class="token function">removeFirstNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeLastNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">checkIndex</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'Index error'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getNode</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>next
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ ‘"><a href="#æ ‘" class="header-anchor">#</a> æ ‘</h2> <h3 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="header-anchor">#</a> äºŒå‰æ ‘</h3> <p>æ ‘æ‹¥æœ‰å¾ˆå¤šç§ç»“æ„ï¼ŒäºŒå‰æ ‘æ˜¯æ ‘ä¸­æœ€å¸¸ç”¨çš„ç»“æ„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¤©ç„¶çš„é€’å½’ç»“æ„ã€‚</p> <p>äºŒå‰æ ‘æ‹¥æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæ‹¥æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ†åˆ«ä¸ºï¼šå·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ã€‚æ ‘çš„æœ€åº•éƒ¨èŠ‚ç‚¹ç§°ä¹‹ä¸ºå¶èŠ‚ç‚¹ï¼Œå½“ä¸€é¢—æ ‘çš„å¶æ•°é‡æ•°é‡ä¸ºæ»¡æ—¶ï¼Œè¯¥æ ‘å¯ä»¥ç§°ä¹‹ä¸ºæ»¡äºŒå‰æ ‘ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2018/5/22/163884f74c9f4e4d?w=320&h=267&f=png&s=11622" alt></p> <h3 id="äºŒåˆ†æœç´¢æ ‘"><a href="#äºŒåˆ†æœç´¢æ ‘" class="header-anchor">#</a> äºŒåˆ†æœç´¢æ ‘</h3> <p>äºŒåˆ†æœç´¢æ ‘ä¹Ÿæ˜¯äºŒå‰æ ‘ï¼Œæ‹¥æœ‰äºŒå‰æ ‘çš„ç‰¹æ€§ã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºäºŒåˆ†æœç´¢æ ‘æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ¯”ä»–çš„å·¦å­æ ‘çš„å€¼å¤§ï¼Œæ¯”å³å­æ ‘çš„å€¼å°ã€‚</p> <p>è¿™ç§å­˜å‚¨æ–¹å¼å¾ˆé€‚åˆäºæ•°æ®æœç´¢ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“éœ€è¦æŸ¥æ‰¾ 6 çš„æ—¶å€™ï¼Œå› ä¸ºéœ€è¦æŸ¥æ‰¾çš„å€¼æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å¤§ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨æ ¹èŠ‚ç‚¹çš„å³å­æ ‘ä¸Šå¯»æ‰¾ï¼Œå¤§å¤§æé«˜äº†æœç´¢æ•ˆç‡ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2018/5/22/1638850ba7458208?w=596&h=485&f=png&s=36796" alt></p> <h4 id="å®ç°-4"><a href="#å®ç°-4" class="header-anchor">#</a> å®ç°</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">BST</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">addNode</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// æ·»åŠ èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ¯”è¾ƒæ·»åŠ çš„èŠ‚ç‚¹å€¼å’Œå½“å‰</span>
  <span class="token comment">// èŠ‚ç‚¹å€¼çš„å¤§å°</span>
  <span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> node
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸Šæ˜¯æœ€åŸºæœ¬çš„äºŒåˆ†æœç´¢æ ‘å®ç°ï¼Œæ¥ä¸‹æ¥å®ç°æ ‘çš„éå†ã€‚</p> <p>å¯¹äºæ ‘çš„éå†æ¥è¯´ï¼Œæœ‰ä¸‰ç§éå†æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯å…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†ã€‚ä¸‰ç§éå†çš„åŒºåˆ«åœ¨äºä½•æ—¶è®¿é—®èŠ‚ç‚¹ã€‚åœ¨éå†æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šéå†ä¸‰æ¬¡ï¼Œåˆ†åˆ«æ˜¯éå†åˆ°è‡ªå·±ï¼Œéå†å·¦å­æ ‘å’Œéå†å³å­æ ‘ã€‚å¦‚æœéœ€è¦å®ç°å…ˆåºéå†ï¼Œé‚£ä¹ˆåªéœ€è¦ç¬¬ä¸€æ¬¡éå†åˆ°èŠ‚ç‚¹æ—¶è¿›è¡Œæ“ä½œå³å¯ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å…ˆåºéå†å¯ç”¨äºæ‰“å°æ ‘çš„ç»“æ„</span>
<span class="token comment">// å…ˆåºéå†å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®å·¦èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®å³èŠ‚ç‚¹ã€‚</span>
<span class="token function">preTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_pre</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä¸­åºéå†å¯ç”¨äºæ’åº</span>
<span class="token comment">// å¯¹äº BST æ¥è¯´ï¼Œä¸­åºéå†å¯ä»¥å®ç°ä¸€æ¬¡éå†å°±</span>
<span class="token comment">// å¾—åˆ°æœ‰åºçš„å€¼</span>
<span class="token comment">// ä¸­åºéå†è¡¨ç¤ºå…ˆè®¿é—®å·¦èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®å³èŠ‚ç‚¹ã€‚</span>
<span class="token function">midTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_mid</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ååºéå†å¯ç”¨äºå…ˆæ“ä½œå­èŠ‚ç‚¹</span>
<span class="token comment">// å†æ“ä½œçˆ¶èŠ‚ç‚¹çš„åœºæ™¯</span>
<span class="token comment">// ååºéå†è¡¨ç¤ºå…ˆè®¿é—®å·¦èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®å³èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®æ ¹èŠ‚ç‚¹ã€‚</span>
<span class="token function">backTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_back</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸Šçš„è¿™å‡ ç§éå†éƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ·±åº¦éå†ï¼Œå¯¹åº”çš„è¿˜æœ‰ç§éå†å«åšå¹¿åº¦éå†ï¼Œä¹Ÿå°±æ˜¯ä¸€å±‚å±‚åœ°éå†æ ‘ã€‚å¯¹äºå¹¿åº¦éå†æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¹‹å‰è®²è¿‡çš„é˜Ÿåˆ—ç»“æ„æ¥å®Œæˆã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">breadthTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">let</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// å°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿ</span>
  q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
  <span class="token comment">// å¾ªç¯åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©º</span>
  <span class="token comment">// ä»£è¡¨æ ‘éå†å®Œæ¯•</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°†é˜Ÿé¦–å‡ºé˜Ÿï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å·¦å³å­æ ‘</span>
    <span class="token comment">// æœ‰çš„è¯ï¼Œå°±å…ˆå·¦åå³å…¥é˜Ÿ</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>left<span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>right<span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ¥ä¸‹æ¥å…ˆä»‹ç»å¦‚ä½•åœ¨æ ‘ä¸­å¯»æ‰¾æœ€å°å€¼æˆ–æœ€å¤§æ•°ã€‚å› ä¸ºäºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æœ€å°å€¼ä¸€å®šåœ¨æ ¹èŠ‚ç‚¹çš„æœ€å·¦è¾¹ï¼Œæœ€å¤§å€¼ç›¸å</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span>value
<span class="token punctuation">}</span>
<span class="token function">_getMin</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMax</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span>value
<span class="token punctuation">}</span>
<span class="token function">_getMax</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> node
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>å‘ä¸Šå–æ•´å’Œå‘ä¸‹å–æ•´</strong>ï¼Œè¿™ä¸¤ä¸ªæ“ä½œæ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥ä»£ç ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œåªä»‹ç»å¦‚ä½•å‘ä¸‹å–æ•´ã€‚æ—¢ç„¶æ˜¯å‘ä¸‹å–æ•´ï¼Œé‚£ä¹ˆæ ¹æ®äºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œå€¼ä¸€å®šåœ¨æ ¹èŠ‚ç‚¹çš„å·¦ä¾§ã€‚åªéœ€è¦ä¸€ç›´éå†å·¦å­æ ‘ç›´åˆ°å½“å‰èŠ‚ç‚¹çš„å€¼ä¸å†å¤§äºç­‰äºéœ€è¦çš„å€¼ï¼Œç„¶ååˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦è¿˜æ‹¥æœ‰å³å­æ ‘ã€‚å¦‚æœæœ‰çš„è¯ï¼Œç»§ç»­ä¸Šé¢çš„é€’å½’åˆ¤æ–­ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">floor</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token function">_floor</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">===</span> v<span class="token punctuation">)</span> <span class="token keyword">return</span> v
  <span class="token comment">// å¦‚æœå½“å‰èŠ‚ç‚¹å€¼è¿˜æ¯”éœ€è¦çš„å€¼å¤§ï¼Œå°±ç»§ç»­é€’å½’</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰å³å­æ ‘</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> right
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre></div><p><strong>æ’å</strong>ï¼Œè¿™æ˜¯ç”¨äºè·å–ç»™å®šå€¼çš„æ’åæˆ–è€…æ’åç¬¬å‡ çš„èŠ‚ç‚¹çš„å€¼ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹Ÿæ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥è¿™ä¸ªåªä»‹ç»å¦‚ä½•è·å–æ’åç¬¬å‡ çš„èŠ‚ç‚¹çš„å€¼ã€‚å¯¹äºè¿™ä¸ªæ“ä½œè€Œè¨€ï¼Œæˆ‘ä»¬éœ€è¦ç•¥å¾®çš„æ”¹é€ ç‚¹ä»£ç ï¼Œè®©æ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰ä¸€ä¸ª <code>size</code> å±æ€§ã€‚è¯¥å±æ€§è¡¨ç¤ºè¯¥èŠ‚ç‚¹ä¸‹æœ‰å¤šå°‘å­èŠ‚ç‚¹ï¼ˆåŒ…å«è‡ªèº«ï¼‰ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token comment">// ä¿®æ”¹ä»£ç </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// æ–°å¢ä»£ç </span>
<span class="token function">_getSize</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>size <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¿®æ”¹ä»£ç </span>
    node<span class="token punctuation">.</span>size<span class="token operator">++</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¿®æ”¹ä»£ç </span>
    node<span class="token punctuation">.</span>size<span class="token operator">++</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
<span class="token function">select</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token function">_select</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token comment">// å…ˆè·å–å·¦å­æ ‘ä¸‹æœ‰å‡ ä¸ªèŠ‚ç‚¹</span>
  <span class="token keyword">let</span> size <span class="token operator">=</span> node<span class="token punctuation">.</span>left <span class="token operator">?</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>size <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token comment">// åˆ¤æ–­ size æ˜¯å¦å¤§äº k</span>
  <span class="token comment">// å¦‚æœå¤§äº kï¼Œä»£è¡¨æ‰€éœ€è¦çš„èŠ‚ç‚¹åœ¨å·¦èŠ‚ç‚¹</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
  <span class="token comment">// å¦‚æœå°äº kï¼Œä»£è¡¨æ‰€éœ€è¦çš„èŠ‚ç‚¹åœ¨å³èŠ‚ç‚¹</span>
  <span class="token comment">// æ³¨æ„è¿™é‡Œéœ€è¦é‡æ–°è®¡ç®— kï¼Œå‡å»æ ¹èŠ‚ç‚¹é™¤äº†å³å­æ ‘çš„èŠ‚ç‚¹æ•°é‡</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&lt;</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> k <span class="token operator">-</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre></div><p>æ¥ä¸‹æ¥è®²è§£çš„æ˜¯äºŒåˆ†æœç´¢æ ‘ä¸­æœ€éš¾å®ç°çš„éƒ¨åˆ†ï¼šåˆ é™¤èŠ‚ç‚¹ã€‚å› ä¸ºå¯¹äºåˆ é™¤èŠ‚ç‚¹æ¥è¯´ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µ</p> <ul><li>éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å­æ ‘</li> <li>éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹åªæœ‰ä¸€æ¡å­æ ‘</li> <li>éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰å·¦å³ä¸¤æ¡æ ‘</li></ul> <p>å¯¹äºå‰ä¸¤ç§æƒ…å†µå¾ˆå¥½è§£å†³ï¼Œä½†æ˜¯ç¬¬ä¸‰ç§æƒ…å†µå°±æœ‰éš¾åº¦äº†ï¼Œæ‰€ä»¥å…ˆæ¥å®ç°ç›¸å¯¹ç®€å•çš„æ“ä½œï¼šåˆ é™¤æœ€å°èŠ‚ç‚¹ï¼Œå¯¹äºåˆ é™¤æœ€å°èŠ‚ç‚¹æ¥è¯´ï¼Œæ˜¯ä¸å­˜åœ¨ç¬¬ä¸‰ç§æƒ…å†µçš„ï¼Œåˆ é™¤æœ€å¤§èŠ‚ç‚¹æ“ä½œæ˜¯å’Œåˆ é™¤æœ€å°èŠ‚ç‚¹ç›¸åçš„ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±ä¸å†èµ˜è¿°ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">delectMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_delectMin</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸€ç›´é€’å½’å·¦å­æ ‘</span>
  <span class="token comment">// å¦‚æœå·¦å­æ ‘ä¸ºç©ºï¼Œå°±åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰å³å­æ ‘</span>
  <span class="token comment">// æœ‰å³å­æ ‘çš„è¯å°±æŠŠéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æ›¿æ¢ä¸ºå³å­æ ‘</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>node <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>right
  node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token comment">// æœ€åéœ€è¦é‡æ–°ç»´æŠ¤ä¸‹èŠ‚ç‚¹çš„ `size`</span>
  node<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre></div><p>æœ€åè®²è§£çš„å°±æ˜¯å¦‚ä½•åˆ é™¤ä»»æ„èŠ‚ç‚¹äº†ã€‚å¯¹äºè¿™ä¸ªæ“ä½œï¼ŒT.Hibbard åœ¨ 1962 å¹´æå‡ºäº†è§£å†³è¿™ä¸ªéš¾é¢˜çš„åŠæ³•ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•è§£å†³ç¬¬ä¸‰ç§æƒ…å†µã€‚</p> <p>å½“é‡åˆ°è¿™ç§æƒ…å†µæ—¶ï¼Œéœ€è¦å–å‡ºå½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯å½“å‰èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼‰æ¥æ›¿æ¢éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ã€‚ç„¶åå°†éœ€è¦åˆ é™¤èŠ‚ç‚¹çš„å·¦å­æ ‘èµ‹å€¼ç»™åç»§ç»“ç‚¹ï¼Œå³å­æ ‘åˆ é™¤åç»§ç»“ç‚¹åèµ‹å€¼ç»™ä»–ã€‚</p> <p>ä½ å¦‚æœå¯¹äºè¿™ä¸ªè§£å†³åŠæ³•æœ‰ç–‘é—®çš„è¯ï¼Œå¯ä»¥è¿™æ ·è€ƒè™‘ã€‚å› ä¸ºäºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œçˆ¶èŠ‚ç‚¹ä¸€å®šæ¯”æ‰€æœ‰å·¦å­èŠ‚ç‚¹å¤§ï¼Œæ¯”æ‰€æœ‰å³å­èŠ‚ç‚¹å°ã€‚é‚£ä¹ˆå½“éœ€è¦åˆ é™¤çˆ¶èŠ‚ç‚¹æ—¶ï¼ŒåŠ¿å¿…éœ€è¦æ‹¿å‡ºä¸€ä¸ªæ¯”çˆ¶èŠ‚ç‚¹å¤§çš„èŠ‚ç‚¹æ¥æ›¿æ¢çˆ¶èŠ‚ç‚¹ã€‚è¿™ä¸ªèŠ‚ç‚¹è‚¯å®šä¸å­˜åœ¨äºå·¦å­æ ‘ï¼Œå¿…ç„¶å­˜åœ¨äºå³å­æ ‘ã€‚ç„¶ååˆéœ€è¦ä¿æŒçˆ¶èŠ‚ç‚¹éƒ½æ˜¯æ¯”å³å­èŠ‚ç‚¹å°çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥å–å‡ºå³å­æ ‘ä¸­æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹æ¥æ›¿æ¢çˆ¶èŠ‚ç‚¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">delect</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_delect</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token comment">// å¯»æ‰¾çš„èŠ‚ç‚¹æ¯”å½“å‰èŠ‚ç‚¹å°ï¼Œå»å·¦å­æ ‘æ‰¾</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¯»æ‰¾çš„èŠ‚ç‚¹æ¯”å½“å‰èŠ‚ç‚¹å¤§ï¼Œå»å³å­æ ‘æ‰¾</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿›å…¥è¿™ä¸ªæ¡ä»¶è¯´æ˜å·²ç»æ‰¾åˆ°èŠ‚ç‚¹</span>
    <span class="token comment">// å…ˆåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰æ‹¥æœ‰å·¦å³å­æ ‘ä¸­çš„ä¸€ä¸ª</span>
    <span class="token comment">// æ˜¯çš„è¯ï¼Œå°†å­æ ‘è¿”å›å‡ºå»ï¼Œè¿™é‡Œå’Œ `_delectMin` çš„æ“ä½œä¸€æ ·</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>right
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>left
    <span class="token comment">// è¿›å…¥è¿™é‡Œï¼Œä»£è¡¨èŠ‚ç‚¹æ‹¥æœ‰å·¦å³å­æ ‘</span>
    <span class="token comment">// å…ˆå–å‡ºå½“å‰èŠ‚ç‚¹çš„åç»§ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯å–å½“å‰èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°å€¼</span>
    <span class="token keyword">let</span> min <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token comment">// å–å‡ºæœ€å°å€¼åï¼Œåˆ é™¤æœ€å°å€¼</span>
    <span class="token comment">// ç„¶åæŠŠåˆ é™¤èŠ‚ç‚¹åçš„å­æ ‘èµ‹å€¼ç»™æœ€å°å€¼èŠ‚ç‚¹</span>
    min<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token comment">// å·¦å­æ ‘ä¸åŠ¨</span>
    min<span class="token punctuation">.</span>left <span class="token operator">=</span> node<span class="token punctuation">.</span>left
    node <span class="token operator">=</span> min
  <span class="token punctuation">}</span>
  <span class="token comment">// ç»´æŠ¤ size</span>
  node<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre></div><h2 id="avl-æ ‘"><a href="#avl-æ ‘" class="header-anchor">#</a> AVL æ ‘</h2> <h3 id="æ¦‚å¿µ-4"><a href="#æ¦‚å¿µ-4" class="header-anchor">#</a> æ¦‚å¿µ</h3> <p>äºŒåˆ†æœç´¢æ ‘å®é™…åœ¨ä¸šåŠ¡ä¸­æ˜¯å—åˆ°é™åˆ¶çš„ï¼Œå› ä¸ºå¹¶ä¸æ˜¯ä¸¥æ ¼çš„ O(logN)ï¼Œåœ¨æç«¯æƒ…å†µä¸‹ä¼šé€€åŒ–æˆé“¾è¡¨ï¼Œæ¯”å¦‚åŠ å…¥ä¸€ç»„å‡åºçš„æ•°å­—å°±ä¼šé€ æˆè¿™ç§æƒ…å†µã€‚</p> <p>AVL æ ‘æ”¹è¿›äº†äºŒåˆ†æœç´¢æ ‘ï¼Œåœ¨ AVL æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„é«˜åº¦å·®éƒ½ä¸å¤§äº 1ï¼Œè¿™æ ·ä¿è¯äº†æ—¶é—´å¤æ‚åº¦æ˜¯ä¸¥æ ¼çš„ O(logN)ã€‚åŸºäºæ­¤ï¼Œå¯¹ AVL æ ‘å¢åŠ æˆ–åˆ é™¤èŠ‚ç‚¹æ—¶å¯èƒ½éœ€è¦æ—‹è½¬æ ‘æ¥è¾¾åˆ°é«˜åº¦çš„å¹³è¡¡ã€‚</p> <h3 id="å®ç°-5"><a href="#å®ç°-5" class="header-anchor">#</a> å®ç°</h3> <p>å› ä¸º AVL æ ‘æ˜¯æ”¹è¿›äº†äºŒåˆ†æœç´¢æ ‘ï¼Œæ‰€ä»¥éƒ¨åˆ†ä»£ç æ˜¯äºäºŒåˆ†æœç´¢æ ‘é‡å¤çš„ï¼Œå¯¹äºé‡å¤å†…å®¹ä¸ä½œå†æ¬¡è§£æã€‚</p> <p>å¯¹äº AVL æ ‘æ¥è¯´ï¼Œæ·»åŠ èŠ‚ç‚¹ä¼šæœ‰å››ç§æƒ…å†µ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/6/23/1642cc145a0cfb26?w=800&h=566&f=png&s=73573" alt></p> <p>å¯¹äºå·¦å·¦æƒ…å†µæ¥è¯´ï¼Œæ–°å¢åŠ çš„èŠ‚ç‚¹ä½äºèŠ‚ç‚¹ 2 çš„å·¦ä¾§ï¼Œè¿™æ—¶æ ‘å·²ç»ä¸å¹³è¡¡ï¼Œéœ€è¦æ—‹è½¬ã€‚å› ä¸ºæœç´¢æ ‘çš„ç‰¹æ€§ï¼ŒèŠ‚ç‚¹æ¯”å·¦èŠ‚ç‚¹å¤§ï¼Œæ¯”å³èŠ‚ç‚¹å°ï¼Œæ‰€ä»¥æ—‹è½¬ä»¥åä¹Ÿè¦å®ç°è¿™ä¸ªç‰¹æ€§ã€‚</p> <p>æ—‹è½¬ä¹‹å‰ï¼šnew &lt; 2 &lt; C &lt; 3 &lt; B &lt; 5 &lt; Aï¼Œå³æ—‹ä¹‹åèŠ‚ç‚¹ 3 ä¸ºæ ¹èŠ‚ç‚¹ï¼Œè¿™æ—¶å€™éœ€è¦å°†èŠ‚ç‚¹ 3 çš„å³èŠ‚ç‚¹åŠ åˆ°èŠ‚ç‚¹ 5 çš„å·¦è¾¹ï¼Œæœ€åè¿˜éœ€è¦æ›´æ–°èŠ‚ç‚¹çš„é«˜åº¦ã€‚</p> <p>å¯¹äºå³å³æƒ…å†µæ¥è¯´ï¼Œç›¸åäºå·¦å·¦æƒ…å†µï¼Œæ‰€ä»¥ä¸å†èµ˜è¿°ã€‚</p> <p>å¯¹äºå·¦å³æƒ…å†µæ¥è¯´ï¼Œæ–°å¢åŠ çš„èŠ‚ç‚¹ä½äºèŠ‚ç‚¹ 4 çš„å³ä¾§ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œéœ€è¦é€šè¿‡ä¸¤æ¬¡æ—‹è½¬æ¥è¾¾åˆ°ç›®çš„ã€‚</p> <p>é¦–å…ˆå¯¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹å·¦æ—‹ï¼Œè¿™æ—¶æ ‘æ»¡è¶³å·¦å·¦çš„æƒ…å†µï¼Œå†å¯¹èŠ‚ç‚¹è¿›è¡Œä¸€æ¬¡å³æ—‹å°±å¯ä»¥è¾¾åˆ°ç›®çš„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AVL</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token function">addNode</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>value <span class="token operator">=</span> v
    <span class="token punctuation">}</span>
    node<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> factor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token comment">// å½“éœ€è¦å³æ—‹æ—¶ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦æ ‘ä¸€å®šæ¯”å³æ ‘é«˜åº¦é«˜</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_rightRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å½“éœ€è¦å·¦æ—‹æ—¶ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦æ ‘ä¸€å®šæ¯”å³æ ‘é«˜åº¦çŸ®</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_leftRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å·¦å³æƒ…å†µ</span>
    <span class="token comment">// èŠ‚ç‚¹çš„å·¦æ ‘æ¯”å³æ ‘é«˜ï¼Œä¸”èŠ‚ç‚¹çš„å·¦æ ‘çš„å³æ ‘æ¯”èŠ‚ç‚¹çš„å·¦æ ‘çš„å·¦æ ‘é«˜</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_leftRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_rightRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å³å·¦æƒ…å†µ</span>
    <span class="token comment">// èŠ‚ç‚¹çš„å·¦æ ‘æ¯”å³æ ‘çŸ®ï¼Œä¸”èŠ‚ç‚¹çš„å³æ ‘çš„å³æ ‘æ¯”èŠ‚ç‚¹çš„å³æ ‘çš„å·¦æ ‘çŸ®</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_rightRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_leftRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> node
  <span class="token punctuation">}</span>
  <span class="token function">_getHeight</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token keyword">return</span> node<span class="token punctuation">.</span>height
  <span class="token punctuation">}</span>
  <span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// èŠ‚ç‚¹å³æ—‹</span>
  <span class="token comment">//           5                    2</span>
  <span class="token comment">//         /   \                /   \</span>
  <span class="token comment">//        2     6   ==&gt;       1      5</span>
  <span class="token comment">//       /  \               /       /  \</span>
  <span class="token comment">//      1    3             new     3    6</span>
  <span class="token comment">//     /</span>
  <span class="token comment">//    new</span>
  <span class="token function">_rightRotate</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ—‹è½¬åæ–°æ ¹èŠ‚ç‚¹</span>
    <span class="token keyword">let</span> newRoot <span class="token operator">=</span> node<span class="token punctuation">.</span>left
    <span class="token comment">// éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹</span>
    <span class="token keyword">let</span> moveNode <span class="token operator">=</span> newRoot<span class="token punctuation">.</span>right
    <span class="token comment">// èŠ‚ç‚¹ 2 çš„å³èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 5</span>
    newRoot<span class="token punctuation">.</span>right <span class="token operator">=</span> node
    <span class="token comment">// èŠ‚ç‚¹ 5 å·¦èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 3</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> moveNode
    <span class="token comment">// æ›´æ–°æ ‘çš„é«˜åº¦</span>
    node<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    newRoot<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span>
      Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> newRoot
  <span class="token punctuation">}</span>
  <span class="token comment">// èŠ‚ç‚¹å·¦æ—‹</span>
  <span class="token comment">//           4                    6</span>
  <span class="token comment">//         /   \                /   \</span>
  <span class="token comment">//        2     6   ==&gt;       4      7</span>
  <span class="token comment">//             /  \         /   \      \</span>
  <span class="token comment">//            5     7      2     5      new</span>
  <span class="token comment">//                   \</span>
  <span class="token comment">//                    new</span>
  <span class="token function">_leftRotate</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ—‹è½¬åæ–°æ ¹èŠ‚ç‚¹</span>
    <span class="token keyword">let</span> newRoot <span class="token operator">=</span> node<span class="token punctuation">.</span>right
    <span class="token comment">// éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹</span>
    <span class="token keyword">let</span> moveNode <span class="token operator">=</span> newRoot<span class="token punctuation">.</span>left
    <span class="token comment">// èŠ‚ç‚¹ 6 çš„å·¦èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 4</span>
    newRoot<span class="token punctuation">.</span>left <span class="token operator">=</span> node
    <span class="token comment">// èŠ‚ç‚¹ 4 å³èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 5</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> moveNode
    <span class="token comment">// æ›´æ–°æ ‘çš„é«˜åº¦</span>
    node<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    newRoot<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span>
      Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> newRoot
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="trie"><a href="#trie" class="header-anchor">#</a> Trie</h2> <h3 id="æ¦‚å¿µ-5"><a href="#æ¦‚å¿µ-5" class="header-anchor">#</a> æ¦‚å¿µ</h3> <p>åœ¨è®¡ç®—æœºç§‘å­¦ï¼Œ<strong>trie</strong>ï¼Œåˆç§°<strong>å‰ç¼€æ ‘</strong>æˆ–<strong>å­—å…¸æ ‘</strong>ï¼Œæ˜¯ä¸€ç§æœ‰åºæ ‘ï¼Œç”¨äºä¿å­˜å…³è”æ•°ç»„ï¼Œå…¶ä¸­çš„é”®é€šå¸¸æ˜¯å­—ç¬¦ä¸²ã€‚</p> <p>ç®€å•ç‚¹æ¥è¯´ï¼Œè¿™ä¸ªç»“æ„çš„ä½œç”¨å¤§å¤šæ˜¯ä¸ºäº†æ–¹ä¾¿æœç´¢å­—ç¬¦ä¸²ï¼Œè¯¥æ ‘æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹</p> <ul><li>æ ¹èŠ‚ç‚¹ä»£è¡¨ç©ºå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ Nï¼ˆå‡å¦‚æœç´¢è‹±æ–‡å­—ç¬¦ï¼Œå°±æœ‰ 26 æ¡ï¼‰ æ¡é“¾æ¥ï¼Œæ¯æ¡é“¾æ¥ä»£è¡¨ä¸€ä¸ªå­—ç¬¦</li> <li>èŠ‚ç‚¹ä¸å­˜å‚¨å­—ç¬¦ï¼Œåªæœ‰è·¯å¾„æ‰å­˜å‚¨ï¼Œè¿™ç‚¹å’Œå…¶ä»–çš„æ ‘ç»“æ„ä¸åŒ</li> <li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹åˆ°ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†æ²¿é€”ç»è¿‡çš„å­—ç¬¦è¿æ¥èµ·æ¥å°±æ˜¯è¯¥èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²</li></ul> <p><img src="https://user-gold-cdn.xitu.io/2018/6/9/163e1d2f6cec3348?w=640&h=600&f=png&s=48344" alt>ã€</p> <h3 id="å®ç°-6"><a href="#å®ç°-6" class="header-anchor">#</a> å®ç°</h3> <p>æ€»å¾—æ¥è¯´ Trie çš„å®ç°ç›¸æ¯”åˆ«çš„æ ‘ç»“æ„æ¥è¯´ç®€å•çš„å¾ˆå¤šï¼Œå®ç°å°±ä»¥æœç´¢è‹±æ–‡å­—ç¬¦ä¸ºä¾‹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">TrieNode</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä»£è¡¨æ¯ä¸ªå­—ç¬¦ç»è¿‡èŠ‚ç‚¹çš„æ¬¡æ•°</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// ä»£è¡¨åˆ°è¯¥èŠ‚ç‚¹çš„å­—ç¬¦ä¸²æœ‰å‡ ä¸ª</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// é“¾æ¥</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Trie</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ ¹èŠ‚ç‚¹ï¼Œä»£è¡¨ç©ºå­—ç¬¦</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// æ’å…¥å­—ç¬¦ä¸²</span>
  <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è·å¾—å­—ç¬¦å…ˆå¯¹åº”çš„ç´¢å¼•</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// å¦‚æœç´¢å¼•å¯¹åº”æ²¡æœ‰å€¼ï¼Œå°±åˆ›å»º</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      node<span class="token punctuation">.</span>path <span class="token operator">+=</span> <span class="token number">1</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    node<span class="token punctuation">.</span>end <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// æœç´¢å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°</span>
  <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// å¦‚æœç´¢å¼•å¯¹åº”æ²¡æœ‰å€¼ï¼Œä»£è¡¨æ²¡æœ‰éœ€è¦æœç´ çš„å­—ç¬¦ä¸²</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> node<span class="token punctuation">.</span>end
  <span class="token punctuation">}</span>
  <span class="token comment">// åˆ é™¤å­—ç¬¦ä¸²</span>
  <span class="token keyword">delete</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// å¦‚æœç´¢å¼•å¯¹åº”çš„èŠ‚ç‚¹çš„ Path ä¸º 0ï¼Œä»£è¡¨ç»è¿‡è¯¥èŠ‚ç‚¹çš„å­—ç¬¦ä¸²</span>
      <span class="token comment">// å·²ç»ä¸€ä¸ªï¼Œç›´æ¥åˆ é™¤å³å¯</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>path <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    node<span class="token punctuation">.</span>end <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="header-anchor">#</a> å¹¶æŸ¥é›†</h2> <h3 id="æ¦‚å¿µ-6"><a href="#æ¦‚å¿µ-6" class="header-anchor">#</a> æ¦‚å¿µ</h3> <p>å¹¶æŸ¥é›†æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ç»“æ„ï¼Œç”¨äºå¤„ç†ä¸€äº›ä¸äº¤é›†çš„åˆå¹¶åŠæŸ¥è¯¢é—®é¢˜ã€‚è¯¥ç»“æ„ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œå¦‚æœåªæœ‰å½“å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘è‡ªå·±ã€‚</p> <p>è¿™ä¸ªç»“æ„ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ“ä½œï¼Œåˆ†åˆ«æ˜¯ï¼š</p> <ul><li>Findï¼šç¡®å®šå…ƒç´ å±äºå“ªä¸€ä¸ªå­é›†ã€‚å®ƒå¯ä»¥è¢«ç”¨æ¥ç¡®å®šä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€å­é›†ã€‚</li> <li>Unionï¼šå°†ä¸¤ä¸ªå­é›†åˆå¹¶æˆåŒä¸€ä¸ªé›†åˆã€‚</li></ul> <p><img src="https://user-gold-cdn.xitu.io/2018/6/9/163e45b56fd25172?w=421&h=209&f=png&s=26545" alt></p> <h3 id="å®ç°-7"><a href="#å®ç°-7" class="header-anchor">#</a> å®ç°</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">DisjointSet</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆå§‹åŒ–æ ·æœ¬</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆå§‹åŒ–æ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token comment">// ç”¨äºè®°å½•æ ‘çš„æ·±åº¦ï¼Œä¼˜åŒ–æœç´¢å¤æ‚åº¦</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rank <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i
      <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¯»æ‰¾å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯å¦ä¸ºè‡ªå·±ï¼Œä¸æ˜¯çš„è¯è¡¨ç¤ºè¿˜æ²¡æ‰¾åˆ°</span>
    <span class="token comment">// å¼€å§‹è¿›è¡Œè·¯å¾„å‹ç¼©ä¼˜åŒ–</span>
    <span class="token comment">// å‡è®¾å½“å‰èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹ä¸º A</span>
    <span class="token comment">// å°†å½“å‰èŠ‚ç‚¹æŒ‚è½½åˆ° A èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸Šï¼Œè¾¾åˆ°å‹ç¼©æ·±åº¦çš„ç›®çš„</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">]</span>
      p <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> p
  <span class="token punctuation">}</span>
  <span class="token function">isConnected</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> q</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// åˆå¹¶</span>
  <span class="token function">union</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> q</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ‰¾åˆ°ä¸¤ä¸ªæ•°å­—çš„çˆ¶èŠ‚ç‚¹</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> j<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token comment">// åˆ¤æ–­ä¸¤æ£µæ ‘çš„æ·±åº¦ï¼Œæ·±åº¦å°çš„åŠ åˆ°æ·±åº¦å¤§çš„æ ‘ä¸‹é¢</span>
    <span class="token comment">// å¦‚æœä¸¤æ£µæ ‘æ·±åº¦ç›¸ç­‰ï¼Œé‚£å°±æ— æ‰€è°“æ€ä¹ˆåŠ </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> i
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j
      <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å †"><a href="#å †" class="header-anchor">#</a> å †</h2> <h3 id="æ¦‚å¿µ-7"><a href="#æ¦‚å¿µ-7" class="header-anchor">#</a> æ¦‚å¿µ</h3> <p>å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹åšä¸€æ£µæ ‘çš„æ•°ç»„å¯¹è±¡ã€‚</p> <p>å †çš„å®ç°é€šè¿‡æ„é€ <strong>äºŒå‰å †</strong>ï¼Œå®ä¸ºäºŒå‰æ ‘çš„ä¸€ç§ã€‚è¿™ç§æ•°æ®ç»“æ„å…·æœ‰ä»¥ä¸‹æ€§è´¨ã€‚</p> <ul><li>ä»»æ„èŠ‚ç‚¹å°äºï¼ˆæˆ–å¤§äºï¼‰å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹</li> <li>å †æ€»æ˜¯ä¸€æ£µå®Œå…¨æ ‘ã€‚å³é™¤äº†æœ€åº•å±‚ï¼Œå…¶ä»–å±‚çš„èŠ‚ç‚¹éƒ½è¢«å…ƒç´ å¡«æ»¡ï¼Œä¸”æœ€åº•å±‚ä»å·¦åˆ°å³å¡«å…¥ã€‚</li></ul> <p>å°†æ ¹èŠ‚ç‚¹æœ€å¤§çš„å †å«åš<strong>æœ€å¤§å †</strong>æˆ–<strong>å¤§æ ¹å †</strong>ï¼Œæ ¹èŠ‚ç‚¹æœ€å°çš„å †å«åš<strong>æœ€å°å †</strong>æˆ–<strong>å°æ ¹å †</strong>ã€‚</p> <p>ä¼˜å…ˆé˜Ÿåˆ—ä¹Ÿå®Œå…¨å¯ä»¥ç”¨å †æ¥å®ç°ï¼Œæ“ä½œæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p> <h3 id="å®ç°å¤§æ ¹å †"><a href="#å®ç°å¤§æ ¹å †" class="header-anchor">#</a> å®ç°å¤§æ ¹å †</h3> <p>å †çš„æ¯ä¸ªèŠ‚ç‚¹çš„å·¦è¾¹å­èŠ‚ç‚¹ç´¢å¼•æ˜¯ <code>i * 2 + 1</code>ï¼Œå³è¾¹æ˜¯ <code>i * 2 + 2</code>ï¼Œçˆ¶èŠ‚ç‚¹æ˜¯ <code>(i - 1) /2</code>ã€‚</p> <p>å †æœ‰ä¸¤ä¸ªæ ¸å¿ƒçš„æ“ä½œï¼Œåˆ†åˆ«æ˜¯ <code>shiftUp</code> å’Œ <code>shiftDown</code> ã€‚å‰è€…ç”¨äºæ·»åŠ å…ƒç´ ï¼Œåè€…ç”¨äºåˆ é™¤æ ¹èŠ‚ç‚¹ã€‚</p> <p><code>shiftUp</code> çš„æ ¸å¿ƒæ€è·¯æ˜¯ä¸€è·¯å°†èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹å¯¹æ¯”å¤§å°ï¼Œå¦‚æœæ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œå°±å’Œçˆ¶èŠ‚ç‚¹äº¤æ¢ä½ç½®ã€‚</p> <p><code>shiftDown</code> çš„æ ¸å¿ƒæ€è·¯æ˜¯å…ˆå°†æ ¹èŠ‚ç‚¹å’Œæœ«å°¾äº¤æ¢ä½ç½®ï¼Œç„¶åç§»é™¤æœ«å°¾å…ƒç´ ã€‚æ¥ä¸‹æ¥å¾ªç¯åˆ¤æ–­çˆ¶èŠ‚ç‚¹å’Œä¸¤ä¸ªå­èŠ‚ç‚¹çš„å¤§å°ï¼Œå¦‚æœå­èŠ‚ç‚¹å¤§ï¼Œå°±æŠŠæœ€å¤§çš„å­èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹äº¤æ¢ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2018/6/15/164009e58a5a21f8?w=537&h=394&f=png&s=77222" alt></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MaxHeap</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_shiftUp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_shiftDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getParentIndex</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLeftIndex</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> k <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token function">_shiftUp</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœå½“å‰èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œå°±äº¤æ¢</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// å°†ç´¢å¼•å˜æˆçˆ¶èŠ‚ç‚¹</span>
      k <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">_shiftDown</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// äº¤æ¢é¦–ä½å¹¶åˆ é™¤æœ«å°¾</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æœ‰å·¦å­©å­ï¼Œå› ä¸ºäºŒå‰å †çš„ç‰¹æ€§ï¼Œæœ‰å³å¿…æœ‰å·¦</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeftIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeftIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
      <span class="token comment">// åˆ¤æ–­æ˜¯å¦æœ‰å³å­©å­ï¼Œå¹¶ä¸”å³å­©å­æ˜¯å¦å¤§äºå·¦å­©å­</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> j<span class="token operator">++</span>
      <span class="token comment">// åˆ¤æ–­çˆ¶èŠ‚ç‚¹æ˜¯å¦å·²ç»æ¯”å­èŠ‚ç‚¹éƒ½å¤§</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">break</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
      k <span class="token operator">=</span> j
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">_swap</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rightValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> rightValue
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/ViktorWong/Full-Stack-Library/edit/master/docs/Algorithms/README.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">3/17/2019, 6:24:19 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/Algorithms/Algorithm.html" class="prev">
          ç®—æ³•
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.a9b48c8f.js" defer></script><script src="/assets/js/4.2de3fa39.js" defer></script>
  </body>
</html>
